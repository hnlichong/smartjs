<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>资源加载</title>
    <script src="http://cdn.visionape.cn/js/jquery.1102.min.js"></script>
    <script src="../build/smartjs.js"></script>
</head>
<body>

<img img="https://res.wx.qq.com/mpres/htmledition/images/bg/bg_logo2491a6.png"/>


<script>
    $(document).ready(function(){



        //=========资源加载=========
        var loader = new SmartJS.Loader();
        //添加一个资源
        //loader.addImage('https://res.wx.qq.com/mpres/htmledition/images/bg/bg_logo2491a6.png');

        loader.addImages(loader.checkAllImages($('body')));


        //监听资源加载进度事件
        loader.addProgressListener(function (p) {
            console.log(p.completedCount+'/'+ p.totalCount);
        });

        //监听资源加载完成事件
        loader.addCompletionListener(function () {
            console.log('加载完成');
        });

        //启动资源加载管理器
        loader.start();


    })
</script>

</body>
</html>